<ion-content color="primary">
  <div>
    <app-sidebar-left [pageName]="'staff'"></app-sidebar-left>
  </div>

  <div class="body">
    <h2>STAFF MEMBERS</h2>

    <div class="add-staff">
      <div class="input-field">
        <app-input-row [placeholder]="'John Doe'">
          STAFF NAME
        </app-input-row>
      </div>
      <div class="submit-btn">
        <app-button
          [routerLink]="['/staff']"
          [btnType]="'btn-primary btn-raised'"
        >
          ADD STAFF
        </app-button>
      </div>
    </div>

    <div class="header">
      <div>STAFF NAME</div>
      <div>PAID</div>
      <div>PROJECT %</div>
      <div>PROJECTS</div>
      <div>TO PAY</div>
    </div>
    <!-- accordion -->
    <div class="scroll-box">
      <accordion *ngFor="let staff of staffs">
        <group [staff]="staff">
          <!-- collapsible: SUB-CONTENT -->
          <table class="mytable">
            <tr *ngFor="let project of staff.projects">
              <!-- project name -->
              <td>{{ project.profile.projectName }}</td>

              <!-- amount -->
              <td>
                <div *ngIf="project.payment.amtToBePaid; else paid">
                  ${{ project.payment.amtToBePaid }}
                </div>
                <ng-template #paid>
                  ${{ project.payment.amtPaid }}
                </ng-template>
              </td>

              <!-- project %age -->
              <td>{{ project.payment.projectPercentage }}%</td>

              <!-- date: paidOn -->
              <td>
                <div *ngIf="project.payment.paidOn; else pay">
                  {{ project.payment.paidOn | date:'dd-mm-yyyy' }}
                </div>
                <ng-template #pay>
                  -
                </ng-template>
              </td>
            </tr>
          </table>
        </group>
      </accordion>
    </div>
    <!-- end accordion -->
  </div>

  <div>
    <app-sidebar-right></app-sidebar-right>
  </div>
</ion-content>
