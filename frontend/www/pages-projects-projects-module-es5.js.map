{"version":3,"sources":["src/app/pages/projects/projects.page.html","src/app/pages/projects/projects-routing.module.ts","src/app/pages/projects/projects.module.ts","src/app/pages/projects/projects.page.scss","src/app/pages/projects/projects.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-content color=\\\"primary\\\" *ngIf=\\\"projects\\\">\\n  <div>\\n    <app-sidebar-left [pageName]=\\\"'projects'\\\"></app-sidebar-left>\\n  </div>\\n\\n  <div class=\\\"body\\\">\\n    <h2>PROJECTS</h2>\\n\\n    <div class=\\\"header grid\\\">\\n      <div class=\\\"col\\\">PROJECT NAME</div>\\n      <div class=\\\"col\\\">DELIVERY DATE</div>\\n      <div class=\\\"col\\\">EARNING</div>\\n      <div class=\\\"col\\\">EXPENSE</div>\\n      <div class=\\\"col\\\">STATUS</div>\\n    </div>\\n    <!-- accordion -->\\n    <div class=\\\"scroll-box\\\">\\n      <accordion *ngFor=\\\"let project of projects\\\">\\n        <group [project]=\\\"project\\\">\\n          <!-- collapsible: SUB-CONTENT -->\\n          <table class=\\\"mytable\\\" *ngIf=\\\"project.staffs.length\\\">\\n            <tr class=\\\"header\\\">\\n              <td>STAFF NAME</td>\\n              <td>AMOUNT</td>\\n              <td>PAID ON</td>\\n              <td>STATUS</td>\\n            </tr>\\n            <tr *ngFor=\\\"let staff of project.staffs\\\">\\n              <!-- staff name -->\\n              <td>{{ staff.profile.staffName }}</td>\\n\\n              <!-- amount -->\\n              <td>\\n                <div *ngIf=\\\"staff.payment.amtToBePaid\\\">\\n                  ${{ staff.payment.amtToBePaid }}\\n                </div>\\n                <div *ngIf=\\\"staff.payment.amtPaid\\\">\\n                  ${{ staff.payment.amtPaid }}\\n                </div>\\n              </td>\\n              <td>\\n                <div *ngIf=\\\"staff.payment.paidOn; else dash\\\">\\n                  {{ staff.payment.paidOn | date: \\\"dd-MM-yyyy\\\"}}\\n                </div>\\n                <ng-template #dash>\\n                  -\\n                </ng-template>\\n              </td>\\n              <td>\\n                <div *ngIf=\\\"staff.payment.paidOn; else pay\\\">\\n                  <button class=\\\"paid\\\">PAID</button>\\n                </div>\\n                <ng-template #pay>\\n                  <button (click)=\\\"payStaff(project, staff)\\\" class=\\\"pay\\\">\\n                    PAY\\n                  </button>\\n                </ng-template>\\n              </td>\\n            </tr>\\n          </table>\\n        </group>\\n      </accordion>\\n    </div>\\n    <!-- end accordion -->\\n  </div>\\n\\n  <div>\\n    <app-sidebar-right></app-sidebar-right>\\n  </div>\\n</ion-content>\\n\"","import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\n\nimport { ProjectsPage } from \"./projects.page\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: ProjectsPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProjectsPageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { ProjectsPageRoutingModule } from \"./projects-routing.module\";\n\nimport { ProjectsPage } from \"./projects.page\";\nimport { SharedModule } from \"../../shared/shared.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProjectsPageRoutingModule,\n    SharedModule,\n  ],\n  declarations: [ProjectsPage],\n})\nexport class ProjectsPageModule {}\n","export default \".body {\\n  float: left;\\n  width: 66vw;\\n  margin: 20px 0 0 32px;\\n}\\n.body h2 {\\n  color: saddlebrown;\\n}\\n.body .grid {\\n  display: flex;\\n  padding: 40px 44px 4px 4px;\\n}\\n.body .grid .col {\\n  width: 20%;\\n}\\n.body .header {\\n  font-family: Poppins;\\n  font-weight: 500;\\n  font-size: 16px;\\n  line-height: 27px;\\n  color: #c7a277;\\n}\\n.body .scroll-box {\\n  overflow-y: scroll;\\n  padding-right: 44px;\\n  height: 80vh;\\n}\\nbutton {\\n  padding: 8px 32px;\\n}\\nbutton.pay {\\n  background: linear-gradient(270deg, #ffecc9 -0.29%, rgba(255, 250, 234, 0.9) 100%);\\n  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.14), -2px -2px 6px rgba(255, 255, 255, 0.5);\\n  border-radius: 10.4962px;\\n}\\nbutton.paid {\\n  background: linear-gradient(270deg, rgba(103, 220, 93, 0.3) -0.29%, rgba(193, 242, 189, 0) 100%);\\n  box-shadow: inset 1px 2px 8px rgba(0, 0, 0, 0.1), inset -3px -3px 6px #ffffff;\\n  border-radius: 10.4962px;\\n}\\ntable.mytable tr td {\\n  padding: 10px;\\n}\\nbutton:focus {\\n  outline: none;\\n}\\n.scroll-box::-webkit-scrollbar {\\n  width: 5px;\\n}\\n.scroll-box::-webkit-scrollbar-thumb {\\n  border-radius: 10px;\\n  background-color: #8a4b00;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL21za2ovQnVkZ2V0LUhhbmRsZXIvZnJvbnRlbmQvc3JjL2FwcC9wYWdlcy9wcm9qZWN0cy9wcm9qZWN0cy5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3Byb2plY3RzL3Byb2plY3RzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFdBQUE7RUFDQSxXQUFBO0VBQ0EscUJBQUE7QUNDRjtBREFFO0VBQ0Usa0JBQUE7QUNFSjtBRENFO0VBQ0UsYUFBQTtFQUNBLDBCQUFBO0FDQ0o7QURDSTtFQUNFLFVBQUE7QUNDTjtBREVFO0VBQ0Usb0JBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUNBSjtBREVFO0VBQ0Usa0JBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7QUNBSjtBRElBO0VBQ0UsaUJBQUE7QUNERjtBREVFO0VBQ0Usa0ZBQUE7RUFLQSxtRkFBQTtFQUVBLHdCQUFBO0FDTEo7QURPRTtFQUNFLGdHQUFBO0VBS0EsNkVBQUE7RUFFQSx3QkFBQTtBQ1ZKO0FEY0E7RUFDRSxhQUFBO0FDWEY7QURjQTtFQUNFLGFBQUE7QUNYRjtBRGNBO0VBQ0UsVUFBQTtBQ1hGO0FEY0E7RUFDRSxtQkFBQTtFQUNBLHlCQUFBO0FDWEYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9wcm9qZWN0cy9wcm9qZWN0cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm9keSB7XG4gIGZsb2F0OiBsZWZ0O1xuICB3aWR0aDogNjZ2dztcbiAgbWFyZ2luOiAyMHB4IDAgMCAzMnB4O1xuICBoMiB7XG4gICAgY29sb3I6IHNhZGRsZWJyb3duO1xuICB9XG5cbiAgLmdyaWQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgcGFkZGluZzogNDBweCA0NHB4IDRweCA0cHg7XG5cbiAgICAuY29sIHtcbiAgICAgIHdpZHRoOiAyMCU7XG4gICAgfVxuICB9XG4gIC5oZWFkZXIge1xuICAgIGZvbnQtZmFtaWx5OiBQb3BwaW5zO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyN3B4O1xuICAgIGNvbG9yOiAjYzdhMjc3O1xuICB9XG4gIC5zY3JvbGwtYm94IHtcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgcGFkZGluZy1yaWdodDogNDRweDtcbiAgICBoZWlnaHQ6IDgwdmg7XG4gIH1cbn1cblxuYnV0dG9uIHtcbiAgcGFkZGluZzogOHB4IDMycHg7XG4gICYucGF5IHtcbiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXG4gICAgICAyNzBkZWcsXG4gICAgICAjZmZlY2M5IC0wLjI5JSxcbiAgICAgIHJnYmEoMjU1LCAyNTAsIDIzNCwgMC45KSAxMDAlXG4gICAgKTtcbiAgICBib3gtc2hhZG93OiAycHggMnB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMTQpLFxuICAgICAgLTJweCAtMnB4IDZweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XG4gICAgYm9yZGVyLXJhZGl1czogMTAuNDk2MnB4O1xuICB9XG4gICYucGFpZCB7XG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KFxuICAgICAgMjcwZGVnLFxuICAgICAgcmdiYSgxMDMsIDIyMCwgOTMsIDAuMykgLTAuMjklLFxuICAgICAgcmdiYSgxOTMsIDI0MiwgMTg5LCAwKSAxMDAlXG4gICAgKTtcbiAgICBib3gtc2hhZG93OiBpbnNldCAxcHggMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSksXG4gICAgICBpbnNldCAtM3B4IC0zcHggNnB4ICNmZmZmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogMTAuNDk2MnB4O1xuICB9XG59XG5cbnRhYmxlLm15dGFibGUgdHIgdGQge1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG5idXR0b246Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xufVxuXG4uc2Nyb2xsLWJveDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICB3aWR0aDogNXB4O1xufVxuXG4uc2Nyb2xsLWJveDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOGE0YjAwO1xufVxuIiwiLmJvZHkge1xuICBmbG9hdDogbGVmdDtcbiAgd2lkdGg6IDY2dnc7XG4gIG1hcmdpbjogMjBweCAwIDAgMzJweDtcbn1cbi5ib2R5IGgyIHtcbiAgY29sb3I6IHNhZGRsZWJyb3duO1xufVxuLmJvZHkgLmdyaWQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiA0MHB4IDQ0cHggNHB4IDRweDtcbn1cbi5ib2R5IC5ncmlkIC5jb2wge1xuICB3aWR0aDogMjAlO1xufVxuLmJvZHkgLmhlYWRlciB7XG4gIGZvbnQtZmFtaWx5OiBQb3BwaW5zO1xuICBmb250LXdlaWdodDogNTAwO1xuICBmb250LXNpemU6IDE2cHg7XG4gIGxpbmUtaGVpZ2h0OiAyN3B4O1xuICBjb2xvcjogI2M3YTI3Nztcbn1cbi5ib2R5IC5zY3JvbGwtYm94IHtcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICBwYWRkaW5nLXJpZ2h0OiA0NHB4O1xuICBoZWlnaHQ6IDgwdmg7XG59XG5cbmJ1dHRvbiB7XG4gIHBhZGRpbmc6IDhweCAzMnB4O1xufVxuYnV0dG9uLnBheSB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgyNzBkZWcsICNmZmVjYzkgLTAuMjklLCByZ2JhKDI1NSwgMjUwLCAyMzQsIDAuOSkgMTAwJSk7XG4gIGJveC1zaGFkb3c6IDJweCAycHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xNCksIC0ycHggLTJweCA2cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpO1xuICBib3JkZXItcmFkaXVzOiAxMC40OTYycHg7XG59XG5idXR0b24ucGFpZCB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgyNzBkZWcsIHJnYmEoMTAzLCAyMjAsIDkzLCAwLjMpIC0wLjI5JSwgcmdiYSgxOTMsIDI0MiwgMTg5LCAwKSAxMDAlKTtcbiAgYm94LXNoYWRvdzogaW5zZXQgMXB4IDJweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpLCBpbnNldCAtM3B4IC0zcHggNnB4ICNmZmZmZmY7XG4gIGJvcmRlci1yYWRpdXM6IDEwLjQ5NjJweDtcbn1cblxudGFibGUubXl0YWJsZSB0ciB0ZCB7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbmJ1dHRvbjpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbi5zY3JvbGwtYm94Ojotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiA1cHg7XG59XG5cbi5zY3JvbGwtYm94Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICM4YTRiMDA7XG59Il19 */\"","import { Component, OnInit, OnDestroy, HostListener } from \"@angular/core\";\nimport { Project } from \"../../models/project-interface\";\nimport { ProjectService } from \"../../services/projects.service\";\nimport {\n  ActivatedRoute,\n  Router,\n  RouterEvent,\n  NavigationEnd,\n} from \"@angular/router\";\nimport { filter, takeUntil } from \"rxjs/operators\";\nimport { ReplaySubject } from \"rxjs\";\n\n@Component({\n  selector: \"app-projects\",\n  templateUrl: \"./projects.page.html\",\n  styleUrls: [\"./projects.page.scss\"],\n})\nexport class ProjectsPage implements OnInit, OnDestroy {\n  projects: Project[];\n  private userId;\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor(\n    private projectService: ProjectService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) {\n    this.route.params.subscribe((params) => {\n      this.userId = params.userId;\n    });\n  }\n  ngOnInit() {\n    this.router.events\n      .pipe(\n        filter((event: RouterEvent) => event instanceof NavigationEnd),\n        takeUntil(this.destroyed$)\n      )\n      .subscribe(() => {\n        this.getProjects();\n      });\n  }\n\n  @HostListener(\"window:beforeunload\")\n  ngOnDestroy() {\n    console.log(\"done with\");\n    this.destroyed$.next();\n    this.destroyed$.complete();\n  }\n\n  getProjects() {\n    this.projectService.getProjects(this.userId).subscribe((projects) => {\n      this.projects = projects;\n      // console.log(\"projects\", this.projects);\n    });\n  }\n\n  async payStaff(project, staff) {\n    // console.log(\"project\", project);\n    // console.log(\"staff\", staff);\n    await this.projectService\n      .payStaff(this.userId, project, staff)\n      .subscribe((data) => {\n        // console.log(\"paid staff\", data);\n        this.getProjects();\n      });\n  }\n}\n"],"sourceRoot":"webpack:///","file":"pages-projects-projects-module-es5.js"}